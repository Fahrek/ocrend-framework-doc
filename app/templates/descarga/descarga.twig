{% extends 'overall/layout' %}
{% block appBody %}
    <div class="contenedor">
        <main class="row">

            {% include 'overall/menu' %}

            <section class="col-xs-12 col-sm-8 col-sm-offset-4 col-md-8 col-md-offset-4 col-lg-9 col-lg-offset-3">
                <h1>Descarga y Configuración</h1>
                <h2>Descarga</h2>
                <p>Clonando el repositorio</p>
                <pre class="ssh"><code>git clone https://github.com/prinick96/Ocrend-Framework.git</code></pre>
                <p><a href="https://github.com/prinick96/Ocrend-Framework/releases">Descargando el paquete manualmente</a></p>
            
                <h2>Permisos Necesarios</h2>
                <p>En caso de estar en LINUX y obtener problemas de persmisos de escritura o lectura, poner en la consola lo siguiente:</p>
                <pre class="ssh"><code>sudo chmod -R 777 /ruta/en/donde/esta/el/framework</code></pre>

                <h2>Configuración</h2>
                <p>Para empezar la configuración del sitio y que nuestro framework funcione correctamente para empezar a trabajar o para subir a producción, debemos configurar en <span>./Ocrend/Kernel/Config/Ocrend.ini.yml</span></p>
                <pre class="css"><code>
site:
  production: false
  name: Mi App
  url: localhost/miapp/
  
router:
  ssl: false
  path: localhost/miapp/        
                </code></pre>
                <p><span>NOTA:</span> Se entiende, que si se está en localhost, y la ruta es http://localhost/carpeta/el-framework/, de acuerdo a eso, se debe configurar el <span>path</span> y la <span>url</span>.</p>
            
                <h2>Parámetros en <span>Ocrend.ini.yml</span></h2>
                <table>
					<thead>
						<tr>
							<th>Atributo YAML</th>
							<th>Función</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><span>database/default_driver</span></td>
							<td>Driver por defecto que utlizará el framework para establecer conexión con la base de datos</td>
						</tr>
						<tr>
							<td><span>database/drivers/mysql</span></td>
							<td>Configuración para conexión con el motor MySQL</td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>host</span> host donde estará alojada la base de datos</li>
									<li><span>user</span> usuario asociado a la base de datos</li>
									<li><span>pass</span> contraseña del usuario</li>
									<li><span>name</span> nombre de la base de datos</li>
									<li><span>port</span> puerto de conexión, el valor <span>default</span> tomará la configuración de php.ini</li>
									<li><span>socket</span> socket de conexión, el valor <span>default</span> tomará la configuración de php.ini</li>
								</ul>
							</td>
						</tr>
						<tr>
							<td><span>database/drivers/sqlite3</span></td>
							<td>Configuración para conexión con el motor SQlite3</td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>file</span> ruta interna en donde se almacenará la base de datos sqlite, es importante que la ruta mantenga ___ROOT___ al principio</li>
								</ul>
							</td>
						</tr>
						<tr>
							<td><span>mailer</span></td>
							<td>Configuración para conexión SMTP para envio de correos electrónicos con <span>Helper\Emails</span></td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>host</span> host de conexión SMTP</li>
									<li><span>user</span> correo electrónico de conexión</li>
									<li><span>pass</span> contraseña del correo electrónico</li>
									<li><span>port</span> puerto de la conexión</li>
									<li><span>logo</span> ruta absoluta con http/https de un logotipo para adjuntar en el diseño de los correos electrónicos que se envían</li>
								</ul>
							</td>
						</tr>
						<tr>
							<td><span>twig</span></td>
							<td>Configuración para los templates <strong>twig</strong></td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>cache</span> activa/desactiva el caché estricto</li>
									<li><span>compiled_dir</span> directorio de compilación de las vistas</li>
									<li><span>charset</span> juego de caracteres que manejan las vistas</li>
									<li><span>strict_variables</span> al establecer en <span>true</span>, twig arrojará errores cada vez que una variable no esté definida en vez de ignorarla</li>
									<li><span>autoscape</span> define el autoscape por defecto de html, si se coloca <span>false</span>, el autoescape será deshabilitado</li>
								</ul>
							</td>
						</tr>
						<tr>
							<td><span>build</span></td>
							<td>Configuración del sitio, entre ellos el modo producción, nombre y url</td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>production</span> activa/desactiva el modo producción, para más información <a href="produccion">ver documentación</a></li>
									<li><span>name</span> nombre de la aplicación</li>
									<li><span>url</span> url absoluta con https/http de la aplicación donde funciona el framework</li>
									<li><span>timezone</span> zona horaria que manejará la aplicación, para más información <a href="https://secure.php.net/manual/es/timezones.php" target="_blank">ver documentación de php</a></li>
								</ul>
							</td>
						</tr>
						<tr>
							<td><span>sessions</span></td>
							<td>Configuración de las sesiones del sistema</td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>lifetime</span> tiempo de vida en segundos de <strong>todas</strong> las sesiones</li>
									<li><span>user_cookie/enable</span> activa/desactiva el uso de cookie encriptada para manejar <strong>la sesión de los usuarios</strong></li>
									<li><span>user_cookie/key_encrypt</span> contraseña para encriptar/desencriptar la info que se almacena en la cookie de usuario, se recomienda cambiar por cada instalación del framework por una propia de mínimo longitud 20</li>
									<li><span>user_cookie/lifetime</span> tiempo en segundos para mantener al usuario conectado, se puede configurar para segundos, minutos, horas, días, semanas o meses</li>
								</ul>
							</td>
						</tr>
						<tr>
							<td><span>api</span></td>
							<td>Configuración de la API RESTFULL</td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>active</span> activa/desactiva la API RESTFULL</li>
									<li><span>origin</span> origen aceptado de peticiones, el valor <span>*</span> acepta peticiones de cualquier sitio, <strong>es altamente recomendable</strong> cambiar el origen por el dominio de producción si la api no servirá información a fuentes externas del servidor</li>
								</ul>
							</td>
						</tr>
						<tr>
							<td><span>router</span></td>
							<td>Configuración del enrutador para las URL's amigables</td>
						</tr>
						<tr>
							<td colspan="2">
								<ul>
									<li><span>ssl</span> el valor <span>true</span> indica al framework que siempre debe intentar solicitar recursos a través de <strong>https://</strong> si encuentra un <a href="https://ocrend.com/hosting/ssl" target="_blank">certificado ssl</a></li>
									<li><span>path</span> ruta de instalación del framework, debe ser exacta, en caso de estar mal configurada el enrutador no servirá y los estilos del sitio no cargarán</li>
								</ul>
							</td>
						</tr>
					</tbody>
				</table>
            </section>
        </main>
    </div>

    {% include 'overall/footer' %}
{% endblock %}
